<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>ğŸ° Neon Royal Jackpot</title>

<style>
body {
    margin: 0;
    background: #111;
    color: white;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

#main {
    text-align: center;
    padding-top: 40px;
}

h1 {
    color: gold;
    font-size: 3rem;
}

#status, #jackpot {
    font-size: 1.3rem;
    margin: 10px;
}

.reels {
    display: flex;
    justify-content: center;
    margin: 40px 0;
    gap: 25px;
}

.reel {
    font-size: 5rem;
    background: black;
    border: 6px ridge gold;
    padding: 20px;
    width: 90px;
}

button {
    font-size: 1.1rem;
    padding: 12px 25px;
    margin: 10px;
    cursor: pointer;
}

#spin { background: green; color: white; }
#allin { background: red; color: white; }

#info {
    margin-top: 15px;
    font-size: 1.2rem;
}

#leaderboard {
    position: fixed;
    top: 20px;
    left: 20px;
    border: 2px solid gold;
    padding: 10px;
    width: 220px;
}
</style>
</head>

<body>

<div id="leaderboard">
    <h3>ğŸ† Leaderboard</h3>
    <div id="leaderboardList"></div>
</div>

<div id="main">
    <h1>ğŸ° NEON ROYAL JACKPOT ğŸ°</h1>
    <div id="status"></div>
    <div id="jackpot"></div>

    <div class="reels">
        <div class="reel" id="r1">â”</div>
        <div class="reel" id="r2">â”</div>
        <div class="reel" id="r3">â”</div>
    </div>

    <button id="allin">ğŸ’¥ ALL IN</button>
    <button id="spin">â–¶ SPIN</button>

    <div id="info"></div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// KONFIG
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const SYMBOLS = ["ğŸ’","ğŸ‹","ğŸŠ","ğŸ””","â­","BAR","7ï¸âƒ£","ğŸ’"];
const START_BALANCE = 5000;
const JACKPOT_START = 5000;
const MIN_BET = 10;

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// STATE
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

let playerName = localStorage.getItem("playerName");
if (!playerName) {
    playerName = prompt("ğŸ‘¤ Spielername eingeben:") || "Gast";
    localStorage.setItem("playerName", playerName);
}

let balance = Number(localStorage.getItem("balance")) || START_BALANCE;
let bet = Number(localStorage.getItem("bet")) || MIN_BET;
let jackpot = Number(localStorage.getItem("jackpot")) || JACKPOT_START;
let spinning = false;

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ELEMENTE
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const statusEl = document.getElementById("status");
const jackpotEl = document.getElementById("jackpot");
const infoEl = document.getElementById("info");
const reels = [
    document.getElementById("r1"),
    document.getElementById("r2"),
    document.getElementById("r3")
];
const leaderboardList = document.getElementById("leaderboardList");

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// FUNKTIONEN
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

function updateUI() {
    statusEl.innerText = `ğŸ‘¤ ${playerName} | ğŸ’° ${balance} â‚¬ | ğŸ¯ Einsatz: ${bet} â‚¬`;
    jackpotEl.innerText = `ğŸ’ JACKPOT: ${jackpot} â‚¬`;
}

function saveGame() {
    localStorage.setItem("balance", balance);
    localStorage.setItem("bet", bet);
    localStorage.setItem("jackpot", jackpot);
}

function updateLeaderboard() {
    let board = JSON.parse(localStorage.getItem("leaderboard") || "{}");
    board[playerName] = Math.max(board[playerName] || 0, balance);
    localStorage.setItem("leaderboard", JSON.stringify(board));

    let sorted = Object.entries(board)
        .sort((a,b) => b[1]-a[1])
        .slice(0,10);

    leaderboardList.innerHTML = sorted
        .map((e,i)=>`${i+1}. ${e[0]}: ${e[1]} â‚¬`)
        .join("<br>");
}

function spin() {
    if (spinning || balance < bet) return;
    spinning = true;

    balance -= bet;
    jackpot += Math.floor(bet * 0.05);
    infoEl.innerText = "ğŸ² Spinning...";

    let count = 15;
    let anim = setInterval(() => {
        reels.forEach(r => r.innerText = SYMBOLS[Math.floor(Math.random()*SYMBOLS.length)]);
        if (--count === 0) {
            clearInterval(anim);
            finishSpin();
        }
    }, 70);
}

function finishSpin() {
    let roll = Math.random();
    let result = [];
    let win = 0;

    if (roll < 0.002) {
        result = ["ğŸ’","ğŸ’","ğŸ’"];
        win = jackpot;
        jackpot = JACKPOT_START;
    } else if (roll < 0.02) {
        result = ["7ï¸âƒ£","7ï¸âƒ£","7ï¸âƒ£"];
        win = bet * 20;
    } else if (roll < 0.10) {
        result = ["ğŸ””","ğŸ””","ğŸ””"];
        win = bet * 5;
    } else if (roll < 0.30) {
        result = ["ğŸ’","ğŸ’","ğŸ’"];
        win = bet * 2;
    } else {
        result = SYMBOLS.sort(()=>0.5-Math.random()).slice(0,3);
    }

    reels.forEach((r,i)=>r.innerText=result[i]);

    if (win > 0) {
        balance += win;
        infoEl.innerText = `ğŸ† GEWONNEN: +${win} â‚¬`;
    } else {
        infoEl.innerText = "ğŸ˜¢ Kein Gewinn";
    }

    saveGame();
    updateUI();
    updateLeaderboard();
    spinning = false;
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// EVENTS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

document.getElementById("spin").onclick = spin;
document.getElementById("allin").onclick = () => {
    bet = balance;
    updateUI();
    infoEl.innerText = "ğŸ’¥ ALL IN!";
};

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// START
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

updateUI();
updateLeaderboard();
</script>

</body>
</html>
